# 主要使用数据

## jibenmian 目录下
利润表 lrb
    - 净利润,净利润同比,营业总收入,营业总收入同比,营业利润,利润总额,公告日期

现金流量 xjll
    - 净现金流-净现金流,净现金流-同比增长,经营性现金流-现金流量净额, 投资性现金流-现金流量净额, 融资性现金流-现金流量净额

资产负债表 zcfz
    - 资产-货币资金, 资产-应收账款, 资产-存货, 资产-总资产, 负债-应付账款, 负债-预收账款, 负债-总负债, 资产负债率, 股东权益合计


## stock 目录下
financial
    - 每股收益_调整后(元)
    - 每股净资产_调整后(元)
    - 主营业务利润率(%)
    - 营业利润率(%)
    - 销售毛利率(%)
    - 净资产收益率(%)

##
股数 = 净利润 / 每股收益_调整后(元)
总市值 = 股数 * 股价
pe倒数 = 每股收益_调整后(元) / 股价
pb = 股价 / 每股净资产_调整后(元)
ps = 总市值 / 营业总收入


## 计算例子
```
    # 成长分数上下限为0~100
    df['营业总收入同比'] = df['营业总收入同比'].clip(lower=0.0, upper=100.0)

    dfgrow = df.groupby('股票代码')['营业总收入同比'].mean()
    # 经营规模
    dfscale = df.groupby('股票代码')['营业总收入'].max()

    df.loc[df['other_col'] == 'value1', 'col1'] *= 0.2


    factor_map = {1: 2, 2: 2.5, 3: 3.6}
    df['A'] = df.apply(lambda row: row['A'] * factor_map[row['B']], axis=1)

```